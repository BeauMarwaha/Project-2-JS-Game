/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./js/init.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./js/classes.js":
/*!***********************!*\
  !*** ./js/classes.js ***!
  \***********************/
/*! exports provided: createCircleSprite, createSquareSprite, createImageSprite, createSound */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createCircleSprite\", function() { return createCircleSprite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createSquareSprite\", function() { return createSquareSprite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createImageSprite\", function() { return createImageSprite; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"createSound\", function() { return createSound; });\n/* harmony import */ var _utilities_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./utilities.js */ \"./js/utilities.js\");\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./main.js */ \"./js/main.js\");\n\r\n\r\n\r\n\r\nclass sprite{\r\n\t\tconstructor(x,y){\r\n\t\t\tthis.x = x;\r\n\t\t\tthis.y = y;\r\n\t\t}\r\n}\r\n\r\nclass circleSprite extends sprite{\r\n\tconstructor(x,y,radius,color)\r\n\t{\r\n\t\tsuper(x,y,radius,color);\r\n\t\tthis.radius = radius;\r\n\t\tthis.color = color;\r\n\t}\r\n\tdraw(ctx){\r\n\t\tctx.save();\r\n\t\tctx.beginPath();\r\n\t\tctx.arc((this.x * _main_js__WEBPACK_IMPORTED_MODULE_1__[\"colWidth\"]) + _main_js__WEBPACK_IMPORTED_MODULE_1__[\"leftSpacing\"] + (_main_js__WEBPACK_IMPORTED_MODULE_1__[\"colWidth\"] / 2), (this.y * _main_js__WEBPACK_IMPORTED_MODULE_1__[\"rowWidth\"]) + _main_js__WEBPACK_IMPORTED_MODULE_1__[\"topSpacing\"] + (_main_js__WEBPACK_IMPORTED_MODULE_1__[\"rowWidth\"] / 2), this.radius, 0, Math.PI*2, false);\r\n\t\tctx.closePath();\r\n\t\tctx.fillStyle = this.color;\r\n\t\tctx.fill();\r\n\t\tctx.restore();\r\n\t}\r\n\tmove(x,y){\r\n\t\tthis.x += x;\r\n\t\tthis.y += y;\r\n\t}\r\n\tplace(x,y){\r\n\t\tthis.x = x;\r\n\t\tthis.y = y;\r\n\t}\r\n}\r\n\r\nclass squareSprite extends sprite{\r\n\tconstructor(x,y,width,height,color){\r\n\t\tsuper(x, y);\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.color = color;\r\n\t}\r\n\tdraw(ctx){ \r\n\t\tctx.save();\r\n\t\tctx.strokeStyle = this.color;\r\n\t\tctx.fillStyle = \"#b37700\";\r\n\t\tctx.beginPath();\r\n\t\tctx.rect(this.x, this.y, this.width, this.height);\r\n\t\tctx.closePath();\r\n\t\tctx.stroke();\r\n\t\tctx.fill();\r\n\t\t//ctx.fillStyle = \"#b37700\";\r\n\t\t//ctx.fillRect(this.x+3, this.y+3, this.width-6, this.height-6);\r\n\t\tctx.restore();\r\n\t}\r\n}\r\n\r\nclass imageSprite extends sprite{\r\n\tconstructor(x,y,width,height,image){\r\n\t\tsuper(x,y);\r\n\t\tthis.width = width;\r\n\t\tthis.height = height;\r\n\t\tthis.image = image;\r\n\t}\r\n\tdraw(ctx){\r\n\t\tctx.save();\r\n\t\tctx.drawImage(this.image,this.x,this.y,this.width,this.height);\r\n\t\tctx.restore();\r\n\t}\r\n}\r\n\r\nfunction createCircleSprite(x=0, y=0, color=\"Blue\", radius=5){\r\n\treturn new circleSprite(x,y,radius,color); \r\n}\r\n\r\nfunction createSquareSprite(x=0, y=0, color=\"Blue\", width=10, height=10){\r\n\treturn new squareSprite(x,y,width,height,color); \r\n}\r\n\r\nfunction createImageSprite(x, y, width=75, height=75, url=\"images/portal.png\"){\r\n\tlet image = new Image();\r\n\timage.src = url;\r\n\treturn new imageSprite(x,y,width,height,image); \r\n}\r\n\r\nclass sound{\r\n\tconstructor(src, loop){\r\n\t\tthis.sound = document.createElement(\"audio\");\r\n\t\tthis.sound.src = src;\r\n\t\tthis.sound.setAttribute(\"preload\", \"auto\");\r\n\t\tthis.sound.setAttribute(\"controls\", \"none\");\r\n\t\tthis.sound.style.display = \"none\";\r\n\r\n\t\tif (loop)\r\n\t\t{\r\n\t\t\tthis.sound.addEventListener('ended', function() {\r\n\t\t\t\tthis.currentTime = 0;\r\n\t\t\t\tthis.play();\r\n\t\t\t}, false);\r\n\t\t}\r\n\t\t\r\n\t\tdocument.body.appendChild(this.sound);\r\n\t}\r\n\tplay(){\r\n        this.sound.play();\r\n    }\r\n    stop(){\r\n        this.sound.pause();\r\n    }\r\n}\r\n\r\nfunction createSound(src, loop) {\r\n\treturn new sound(src, loop); \r\n}//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9jbGFzc2VzLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvY2xhc3Nlcy5qcz9iZDZiIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7fSBmcm9tICcuL3V0aWxpdGllcy5qcyc7XHJcbmltcG9ydCB7cm93V2lkdGgsY29sV2lkdGgsdG9wU3BhY2luZyxsZWZ0U3BhY2luZ30gZnJvbSAnLi9tYWluLmpzJztcclxuZXhwb3J0IHtjcmVhdGVDaXJjbGVTcHJpdGUsY3JlYXRlU3F1YXJlU3ByaXRlLGNyZWF0ZUltYWdlU3ByaXRlLGNyZWF0ZVNvdW5kfTtcclxuXHJcbmNsYXNzIHNwcml0ZXtcclxuXHRcdGNvbnN0cnVjdG9yKHgseSl7XHJcblx0XHRcdHRoaXMueCA9IHg7XHJcblx0XHRcdHRoaXMueSA9IHk7XHJcblx0XHR9XHJcbn1cclxuXHJcbmNsYXNzIGNpcmNsZVNwcml0ZSBleHRlbmRzIHNwcml0ZXtcclxuXHRjb25zdHJ1Y3Rvcih4LHkscmFkaXVzLGNvbG9yKVxyXG5cdHtcclxuXHRcdHN1cGVyKHgseSxyYWRpdXMsY29sb3IpO1xyXG5cdFx0dGhpcy5yYWRpdXMgPSByYWRpdXM7XHJcblx0XHR0aGlzLmNvbG9yID0gY29sb3I7XHJcblx0fVxyXG5cdGRyYXcoY3R4KXtcclxuXHRcdGN0eC5zYXZlKCk7XHJcblx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRjdHguYXJjKCh0aGlzLnggKiBjb2xXaWR0aCkgKyBsZWZ0U3BhY2luZyArIChjb2xXaWR0aCAvIDIpLCAodGhpcy55ICogcm93V2lkdGgpICsgdG9wU3BhY2luZyArIChyb3dXaWR0aCAvIDIpLCB0aGlzLnJhZGl1cywgMCwgTWF0aC5QSSoyLCBmYWxzZSk7XHJcblx0XHRjdHguY2xvc2VQYXRoKCk7XHJcblx0XHRjdHguZmlsbFN0eWxlID0gdGhpcy5jb2xvcjtcclxuXHRcdGN0eC5maWxsKCk7XHJcblx0XHRjdHgucmVzdG9yZSgpO1xyXG5cdH1cclxuXHRtb3ZlKHgseSl7XHJcblx0XHR0aGlzLnggKz0geDtcclxuXHRcdHRoaXMueSArPSB5O1xyXG5cdH1cclxuXHRwbGFjZSh4LHkpe1xyXG5cdFx0dGhpcy54ID0geDtcclxuXHRcdHRoaXMueSA9IHk7XHJcblx0fVxyXG59XHJcblxyXG5jbGFzcyBzcXVhcmVTcHJpdGUgZXh0ZW5kcyBzcHJpdGV7XHJcblx0Y29uc3RydWN0b3IoeCx5LHdpZHRoLGhlaWdodCxjb2xvcil7XHJcblx0XHRzdXBlcih4LCB5KTtcclxuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcclxuXHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cdFx0dGhpcy5jb2xvciA9IGNvbG9yO1xyXG5cdH1cclxuXHRkcmF3KGN0eCl7IFxyXG5cdFx0Y3R4LnNhdmUoKTtcclxuXHRcdGN0eC5zdHJva2VTdHlsZSA9IHRoaXMuY29sb3I7XHJcblx0XHRjdHguZmlsbFN0eWxlID0gXCIjYjM3NzAwXCI7XHJcblx0XHRjdHguYmVnaW5QYXRoKCk7XHJcblx0XHRjdHgucmVjdCh0aGlzLngsIHRoaXMueSwgdGhpcy53aWR0aCwgdGhpcy5oZWlnaHQpO1xyXG5cdFx0Y3R4LmNsb3NlUGF0aCgpO1xyXG5cdFx0Y3R4LnN0cm9rZSgpO1xyXG5cdFx0Y3R4LmZpbGwoKTtcclxuXHRcdC8vY3R4LmZpbGxTdHlsZSA9IFwiI2IzNzcwMFwiO1xyXG5cdFx0Ly9jdHguZmlsbFJlY3QodGhpcy54KzMsIHRoaXMueSszLCB0aGlzLndpZHRoLTYsIHRoaXMuaGVpZ2h0LTYpO1xyXG5cdFx0Y3R4LnJlc3RvcmUoKTtcclxuXHR9XHJcbn1cclxuXHJcbmNsYXNzIGltYWdlU3ByaXRlIGV4dGVuZHMgc3ByaXRle1xyXG5cdGNvbnN0cnVjdG9yKHgseSx3aWR0aCxoZWlnaHQsaW1hZ2Upe1xyXG5cdFx0c3VwZXIoeCx5KTtcclxuXHRcdHRoaXMud2lkdGggPSB3aWR0aDtcclxuXHRcdHRoaXMuaGVpZ2h0ID0gaGVpZ2h0O1xyXG5cdFx0dGhpcy5pbWFnZSA9IGltYWdlO1xyXG5cdH1cclxuXHRkcmF3KGN0eCl7XHJcblx0XHRjdHguc2F2ZSgpO1xyXG5cdFx0Y3R4LmRyYXdJbWFnZSh0aGlzLmltYWdlLHRoaXMueCx0aGlzLnksdGhpcy53aWR0aCx0aGlzLmhlaWdodCk7XHJcblx0XHRjdHgucmVzdG9yZSgpO1xyXG5cdH1cclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlQ2lyY2xlU3ByaXRlKHg9MCwgeT0wLCBjb2xvcj1cIkJsdWVcIiwgcmFkaXVzPTUpe1xyXG5cdHJldHVybiBuZXcgY2lyY2xlU3ByaXRlKHgseSxyYWRpdXMsY29sb3IpOyBcclxufVxyXG5cclxuZnVuY3Rpb24gY3JlYXRlU3F1YXJlU3ByaXRlKHg9MCwgeT0wLCBjb2xvcj1cIkJsdWVcIiwgd2lkdGg9MTAsIGhlaWdodD0xMCl7XHJcblx0cmV0dXJuIG5ldyBzcXVhcmVTcHJpdGUoeCx5LHdpZHRoLGhlaWdodCxjb2xvcik7IFxyXG59XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVJbWFnZVNwcml0ZSh4LCB5LCB3aWR0aD03NSwgaGVpZ2h0PTc1LCB1cmw9XCJpbWFnZXMvcG9ydGFsLnBuZ1wiKXtcclxuXHRsZXQgaW1hZ2UgPSBuZXcgSW1hZ2UoKTtcclxuXHRpbWFnZS5zcmMgPSB1cmw7XHJcblx0cmV0dXJuIG5ldyBpbWFnZVNwcml0ZSh4LHksd2lkdGgsaGVpZ2h0LGltYWdlKTsgXHJcbn1cclxuXHJcbmNsYXNzIHNvdW5ke1xyXG5cdGNvbnN0cnVjdG9yKHNyYywgbG9vcCl7XHJcblx0XHR0aGlzLnNvdW5kID0gZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImF1ZGlvXCIpO1xyXG5cdFx0dGhpcy5zb3VuZC5zcmMgPSBzcmM7XHJcblx0XHR0aGlzLnNvdW5kLnNldEF0dHJpYnV0ZShcInByZWxvYWRcIiwgXCJhdXRvXCIpO1xyXG5cdFx0dGhpcy5zb3VuZC5zZXRBdHRyaWJ1dGUoXCJjb250cm9sc1wiLCBcIm5vbmVcIik7XHJcblx0XHR0aGlzLnNvdW5kLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcblx0XHRpZiAobG9vcClcclxuXHRcdHtcclxuXHRcdFx0dGhpcy5zb3VuZC5hZGRFdmVudExpc3RlbmVyKCdlbmRlZCcsIGZ1bmN0aW9uKCkge1xyXG5cdFx0XHRcdHRoaXMuY3VycmVudFRpbWUgPSAwO1xyXG5cdFx0XHRcdHRoaXMucGxheSgpO1xyXG5cdFx0XHR9LCBmYWxzZSk7XHJcblx0XHR9XHJcblx0XHRcclxuXHRcdGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQodGhpcy5zb3VuZCk7XHJcblx0fVxyXG5cdHBsYXkoKXtcclxuICAgICAgICB0aGlzLnNvdW5kLnBsYXkoKTtcclxuICAgIH1cclxuICAgIHN0b3AoKXtcclxuICAgICAgICB0aGlzLnNvdW5kLnBhdXNlKCk7XHJcbiAgICB9XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNyZWF0ZVNvdW5kKHNyYywgbG9vcCkge1xyXG5cdHJldHVybiBuZXcgc291bmQoc3JjLCBsb29wKTsgXHJcbn0iXSwibWFwcGluZ3MiOiJBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/classes.js\n");

/***/ }),

/***/ "./js/init.js":
/*!********************!*\
  !*** ./js/init.js ***!
  \********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _main_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./main.js */ \"./js/main.js\");\n\r\n// 1) this script a good place to load fonts, images, sounds and other resources\r\n\r\n// 2) start up app\r\nObject(_main_js__WEBPACK_IMPORTED_MODULE_0__[\"init\"])();//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9pbml0LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvaW5pdC5qcz82OWJjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7aW5pdH0gZnJvbSAnLi9tYWluLmpzJztcclxuLy8gMSkgdGhpcyBzY3JpcHQgYSBnb29kIHBsYWNlIHRvIGxvYWQgZm9udHMsIGltYWdlcywgc291bmRzIGFuZCBvdGhlciByZXNvdXJjZXNcclxuXHJcbi8vIDIpIHN0YXJ0IHVwIGFwcFxyXG5pbml0KCk7Il0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///./js/init.js\n");

/***/ }),

/***/ "./js/main.js":
/*!********************!*\
  !*** ./js/main.js ***!
  \********************/
/*! exports provided: init, rowWidth, colWidth, topSpacing, leftSpacing */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"init\", function() { return init; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"rowWidth\", function() { return rowWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"colWidth\", function() { return colWidth; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"topSpacing\", function() { return topSpacing; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"leftSpacing\", function() { return leftSpacing; });\n/* harmony import */ var _classes_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./classes.js */ \"./js/classes.js\");\n\r\n\r\n\r\nconst canvas = document.querySelector(\"canvas\");\r\nconst ctx = canvas.getContext(\"2d\");\r\nconst screenWidth = canvas.width;\r\nconst screenHeight = canvas.height;\r\nlet gameBoard;\r\nconst rows = 8;\r\nconst rowWidth = 75;\r\nconst cols = 8;\r\nconst colWidth = 75;\r\nlet dots = [];\r\nlet endPoints = [];\r\nlet teleporters = [];\r\n\r\nlet turns = 8;\r\nlet level = 1;\r\nlet paused = true;\r\n// Calculate the top and left spacing to have the game board centered in the bottom middle of the canvas\r\nconst topSpacing = 0;\r\nconst leftSpacing = 0;\r\n\r\n// Set up music & sound effects\r\nlet backgroundMusic = Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSound\"])(\"sounds/electronic-base-and-pop-guitar.mp3\", true); // Sound from: https://freesound.org/people/frankum/sounds/273300/\r\nlet moveSound = Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSound\"])(\"sounds/boop.wav\", false); // Sound from: https://freesound.org/people/fordps3/sounds/186669/\r\nlet winSound = Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSound\"])(\"sounds/little-boops-loop.wav\", false); // Sound from: https://freesound.org/people/newagesoup/sounds/348849/\r\nlet loseSound = Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSound\"])(\"sounds/sad-trombone.wav\", false); // Sound from: https://freesound.org/people/Timbre/sounds/73750/\r\n\r\nfunction init(){\r\n\tif(localStorage.getItem(\"shift-level\") == null){\r\n\t\tlocalStorage.setItem(\"shift-level\", 1);\r\n\t}else{\r\n\t\tlevel = localStorage.getItem(\"shift-level\");\r\n\t\tconsole.log(level);\r\n\t}\r\n    // Set up the start button to start the game\r\n    document.querySelector(\"#startButton\").onclick = startGame;\r\n    \r\n    // Set up key tracking\r\n    document.addEventListener('keyup', keyPressed, false);\r\n    \r\n    // Start playing the background music\r\n    backgroundMusic.play();\r\n}\r\n\r\nfunction startGame(){\r\n    // Hide the Main Menu\r\n    document.querySelector('#mainMenu').style.display = \"none\";\r\n\r\n    // Initialize empty 2D array of the specified size\r\n    gameBoard = createArray(rows, cols);\r\n\r\n    // Start loading the level from an external file and call the levelLoaded function when complete\r\n    readTextFile(\"levels/level-\"+level+\".txt\", levelLoaded);\r\n}\r\n\r\nfunction restartGame(){\r\n    // Hide the win/lose screens\r\n\tdocument.querySelector('#lossScreen').style.display = \"none\";\r\n    document.querySelector('#winScreen').style.display = \"none\";\r\n    \r\n    // Load up the level\r\n\tgameBoard = createArray(rows, cols);\r\n\tdots = [];\r\n\tendPoints = [];\r\n\tteleporters = [];\r\n\treadTextFile(\"levels/level-\"+level+\".txt\", levelLoaded);\r\n}\r\n\r\nfunction levelLoaded(levelGuide)\r\n{\r\n    // Remove all whitespace from the loaded text\r\n    levelGuide = levelGuide.replace(/\\s+/g, ''); \r\n    \r\n    // Populate the game board using the text file's contents\r\n    initializeLevel(levelGuide);\r\n\r\n    // Display the Instructions\r\n    document.querySelector('#instructions').style.display = \"block\";\r\n\t\r\n    // Start updating the game board\r\n\tpaused = false;\r\n\tupdate();\r\n}\r\n\r\nfunction update(){\r\n\t// Schedule a call to update() in 1/60th of a second\r\n\tif(paused) return;\r\n\trequestAnimationFrame(update);\r\n\t\r\n    // Clear the background\r\n    ctx.save();\r\n    ctx.fillStyle = \"#FFFFFF\";\r\n\tctx.fillRect(0,0,screenWidth,screenHeight);\r\n    ctx.restore();\r\n\r\n    // Draw a square around the game board\r\n    ctx.save();\r\n    ctx.strokeStyle = \"#000000\";\r\n    ctx.strokeRect(topSpacing, leftSpacing, rows * rowWidth, cols * colWidth);\r\n    ctx.restore();\r\n\r\n    // Loop through the game board sections and draw them\r\n    for (let i = 0; i < rows; i++)\r\n    {\r\n        for (let j = 0; j < cols; j++)\r\n        {\r\n            // If the game board tile exists draw it\r\n            if(gameBoard[i][j].sprite != null)\r\n            {\r\n                gameBoard[i][j].sprite.draw(ctx);\r\n            }\r\n        }\r\n    }\r\n\r\n    // Loop through the dots and end points and draw them\r\n\tendPoints.forEach(function(endPoint) {\r\n        endPoint.sprite.draw(ctx);\r\n    });\r\n\t\r\n\tteleporters.forEach(function(tel) {\r\n        tel.sprite.draw(ctx);\r\n    });\r\n\t\r\n    dots.forEach(function(dot) {\r\n        dot.sprite.draw(ctx);\r\n    });\r\n\r\n\t\r\n    // Write the turns left onto the screen\r\n\tctx.font = \"bold 30px Roboto\";\r\n    ctx.fillText(\"Turns left: \" + turns, 615, 50, 185);\r\n}\r\n\r\nfunction initializeLevel(levelGuide)\r\n{\r\n    // Populate the game board using the level guide string\r\n    let location = 0;\r\n    for (let j = 0; j < cols; j++)\r\n    {\r\n        for (let i = 0; i < rows; i++)\r\n        {\r\n            if (levelGuide.charAt(location) == 0) // Empty Space \r\n            {\r\n                // No piece to add to the game board\r\n                //gameBoard[j][i] = createSquareSprite((i * colWidth) + leftSpacing, (j * rowWidth) + topSpacing, \"Gray\", colWidth, rowWidth);\r\n\t\t\t\tgameBoard[j][i] = {sprite:null, filled:0}\r\n            }\r\n            else if (levelGuide.charAt(location) == 1) // Empty Tile \r\n            {\r\n                gameBoard[j][i] = {sprite:Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSquareSprite\"])((i * colWidth) + leftSpacing, (j * rowWidth) + topSpacing, \"Black\", colWidth, rowWidth), filled: 1};\r\n            }\r\n            else if (levelGuide.charAt(location) == 2) // Tile with ball\r\n            {\r\n                gameBoard[j][i] = {sprite:Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSquareSprite\"])((i * colWidth) + leftSpacing, (j * rowWidth) + topSpacing, \"Black\", colWidth, rowWidth), filled: 2};\r\n                dots.push({sprite:Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createCircleSprite\"])(i, j, \"Green\", colWidth / 2.5), x: i, y: j, normal: true});\r\n            }\r\n            else if (levelGuide.charAt(location) == 3) // Tile with end goal\r\n            {\r\n                gameBoard[j][i] = {sprite:Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSquareSprite\"])((i * colWidth) + leftSpacing, (j * rowWidth) + topSpacing, \"Black\", colWidth, rowWidth), filled: 3};\r\n                endPoints.push({sprite:Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createCircleSprite\"])(i, j, \"Purple\", colWidth / 2.5), x: i, y: j});\r\n            }\r\n\t\t\telse if (levelGuide.charAt(location) == \"R\") // Tile with reverse ball\r\n            {\r\n                gameBoard[j][i] = {sprite:Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSquareSprite\"])((i * colWidth) + leftSpacing, (j * rowWidth) + topSpacing, \"Black\", colWidth, rowWidth), filled: 2};\r\n                dots.push({sprite:Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createCircleSprite\"])(i, j, \"Red\", colWidth / 2.5), x: i, y: j, normal: false});\r\n            }else if(levelGuide.charAt(location) == \"T\" ) //Tile with teleporter\r\n\t\t\t{\r\n\t\t\t\tgameBoard[j][i] = {sprite:Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createSquareSprite\"])((i * colWidth) + leftSpacing, (j * rowWidth) + topSpacing, \"Black\", colWidth, rowWidth), filled: 1};\r\n\t\t\t\tteleporters.push({sprite: Object(_classes_js__WEBPACK_IMPORTED_MODULE_0__[\"createImageSprite\"])((i * colWidth) + leftSpacing +5, (j * rowWidth) + topSpacing +5, 65, 65, \"images/portal.png\"),x:i, y:j}); // Image obtained and edited from https://www.deviantart.com/texelgirl-stock/art/Portal-1-83764812\r\n\t\t\t}\r\n            location++;\r\n        }\r\n    }\r\n\tlet turnNum = \"\";\r\n\t//Read the turn number from the level file\r\n\t//Read each character until no character is found\r\n\twhile(levelGuide.charAt(location)!= \"\"){\r\n\t\tturnNum += \"\" + levelGuide.charAt(location) + \"\";\r\n\t\tlocation++;\r\n\t}\r\n\tturns = parseInt(turnNum,10);\r\n}\r\n\r\n// Array initialization code SOURCED from https://stackoverflow.com/a/966938\r\nfunction createArray(length) {\r\n    var arr = new Array(length || 0),\r\n        i = length;\r\n\r\n    if (arguments.length > 1) {\r\n        var args = Array.prototype.slice.call(arguments, 1);\r\n        while(i--) arr[length-1 - i] = createArray.apply(this, args);\r\n    }\r\n\r\n    return arr;\r\n}\r\n\r\n// Text file reading code MODIFIED from https://medium.freecodecamp.org/javascript-from-callbacks-to-async-await-1cc090ddad99\r\nfunction readTextFile(file, callback) {\r\n    const rawFile = new XMLHttpRequest();\r\n    rawFile.timeout = 2000;\r\n    rawFile.responseType = 'text';\r\n    rawFile.onreadystatechange = function(e) {\r\n        if (rawFile.readyState === 4) {\r\n            if (rawFile.status === 200 || rawFile.status == 0) {\r\n                callback(rawFile.responseText)\r\n            } \r\n        }\r\n    }\r\n    rawFile.ontimeout = function () {\r\n        console.log('Timeout on loading text file: ' + file)\r\n    }\r\n    rawFile.open('GET', file, true)\r\n    rawFile.send();\r\n}\r\n\r\nfunction keyPressed(event) {\r\n\tlet move = 0;\r\n\tif(paused) return;\r\n\t//Left\r\n\tif(event.keyCode == 37) {\r\n\t\tdots.sort((a,b) => a.x - b.x);\r\n        for(let dot of dots){\r\n\t\t\t//Standard dot movement\r\n\t\t\tif(dot.normal && dot.x - 1 >=0 && gameBoard[dot.y][dot.x-1].filled != 0 && gameBoard[dot.y][dot.x-1].filled != 2){\r\n\t\t\t\tgameBoard[dot.y][dot.x-1].filled = 2;\r\n\t\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\t\tdot.sprite.move(-1,0);\r\n\t\t\t\tdot.x--;\r\n\t\t\t\tmove++;\r\n\t\t\t//Reverse dot movement\r\n\t\t\t}else if( !dot.normal && dot.x + 1 < 8 && gameBoard[dot.y][dot.x+1].filled != 0 && gameBoard[dot.y][dot.x+1].filled != 2){\r\n\t\t\t\tgameBoard[dot.y][dot.x+1].filled = 2;\r\n\t\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\t\tdot.sprite.move(1,0);\r\n\t\t\t\tdot.x++;\r\n\t\t\t\tmove++;\r\n\t\t\t}\r\n\t\t}\r\n\t//Up\t\t\r\n    }else if(event.keyCode == 38) {\r\n\t\tdots.sort((a,b) => a.y - b.y);\r\n    \tfor(let dot of dots){\r\n\t\t\tif(dot.normal && dot.y - 1 >=0 && gameBoard[dot.y-1][dot.x].filled != 0 && gameBoard[dot.y-1][dot.x].filled != 2){\r\n\t\t\t\tgameBoard[dot.y-1][dot.x].filled = 2;\r\n\t\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\t\tdot.sprite.move(0,-1);\r\n\t\t\t\tdot.y--;\r\n\t\t\t\tmove++;\r\n\t\t\t}else if(!dot.normal && dot.y + 1 < 8&& gameBoard[dot.y+1][dot.x].filled != 0&& gameBoard[dot.y+1][dot.x].filled != 2){\r\n\t\t\t\tgameBoard[dot.y+1][dot.x].filled = 2;\r\n\t\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\t\tdot.sprite.move(0,1);\r\n\t\t\t\tdot.y++;\r\n\t\t\t\tmove++;\r\n\t\t\t}\r\n\t\t}\r\n\t//Right\r\n    }else if(event.keyCode == 39) {\r\n\t\tdots.sort((a,b) => b.x - a.x);\r\n        for(let dot of dots){\r\n\t\t\tif(dot.normal && dot.x + 1 < 8 && gameBoard[dot.y][dot.x+1].filled != 0 && gameBoard[dot.y][dot.x+1].filled != 2){\r\n\t\t\t\tgameBoard[dot.y][dot.x+1].filled = 2;\r\n\t\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\t\tdot.sprite.move(1,0);\r\n\t\t\t\tdot.x++;\r\n\t\t\t\tmove++;\r\n\t\t\t}else if(!dot.normal && dot.x - 1 >=0 && gameBoard[dot.y][dot.x-1].filled != 0 && gameBoard[dot.y][dot.x-1].filled != 2){\r\n\t\t\t\tgameBoard[dot.y][dot.x-1].filled = 2;\r\n\t\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\t\tdot.sprite.move(-1,0);\r\n\t\t\t\tdot.x--;\r\n\t\t\t\tmove++;\r\n\t\t\t}\r\n\t\t}\r\n\t//Down\t\r\n    }else if(event.keyCode == 40) {\r\n\t\tdots.sort((a,b) => b.y - a.y);\r\n    \tfor(let dot of dots){\r\n\t\t\tif(dot.normal && dot.y + 1 < 8&& gameBoard[dot.y+1][dot.x].filled != 0&& gameBoard[dot.y+1][dot.x].filled != 2){\r\n\t\t\t\tgameBoard[dot.y+1][dot.x].filled = 2;\r\n\t\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\t\tdot.sprite.move(0,1);\r\n\t\t\t\tdot.y++;\r\n\t\t\t\tmove++;\r\n\t\t\t}else if(!dot.normal && dot.y - 1 >=0 && gameBoard[dot.y-1][dot.x].filled != 0 && gameBoard[dot.y-1][dot.x].filled != 2){\r\n\t\t\t\tgameBoard[dot.y-1][dot.x].filled = 2;\r\n\t\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\t\tdot.sprite.move(0,-1);\r\n\t\t\t\tdot.y--;\r\n\t\t\t\tmove++;\r\n\t\t\t}\r\n\t\t}\t\r\n    }\r\n    \r\n    // If the player moved this turn\r\n\tif(move > 0){\r\n        // Play the move music\r\n        moveSound.play();\r\n\r\n        // Decrement the turn tracker\r\n        turns--;\r\n        \r\n        // Reset the move counter\r\n\t\tmove = 0;\r\n\t\t\r\n\t\t//Check if teleporters exist in the current level\r\n\t\tif(teleporters.length > 0){\r\n\t\t\tteleport();\r\n\t\t}\r\n\t\t\t\t\r\n    }\r\n    \r\n    // Check win/loss conditions\r\n\tcheckWin();\r\n\tif(turns <= 0 && !paused){\r\n\t\tpaused = true;\r\n\t\tdisplayLoss();\r\n\t}\r\n\t\r\n}\r\n\r\nfunction checkWin(){\r\n\tlet length = 0;\r\n\tfor(let dot of dots){\r\n\t\tfor(let end of endPoints){\r\n\t\t\tif(dot.x == end.x && dot.y == end.y){\r\n\t\t\t\tlength++;\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tif(length == endPoints.length){\r\n\t\tdisplayWin();\r\n\t\tpaused = true;\r\n\t}\r\n}\r\n\r\nfunction displayWin(){\r\n    // Advance the level\r\n    level++;\r\n    if(level > 10){\r\n\t\tlevel = 10;\r\n\t}\r\n\tlocalStorage.setItem(\"shift-level\", level);\r\n    // Play the win music\r\n    winSound.play();\r\n    \r\n    // Hide the Instructions\r\n    document.querySelector('#instructions').style.display = \"none\";\r\n    \r\n    // Display the win screen\r\n\tdocument.querySelector(\"#nextButton\").onclick = restartGame;\r\n\tdocument.querySelector('#winScreen').style.display = \"block\";\r\n}\r\n\r\nfunction displayLoss(){\r\n    // Play the lose music\r\n    loseSound.play();\r\n\r\n\t// Hide the Instructions\r\n    document.querySelector('#instructions').style.display = \"none\";\r\n\r\n    // Display the loss screen\r\n\tdocument.querySelector(\"#retryButton\").onclick = restartGame;\r\n\tdocument.querySelector('#lossScreen').style.display = \"block\";\r\n}\r\nfunction teleport(){\r\n\t//Go through each dot and check if it is on either teleporter spot\r\n\tfor(let dot of dots){\r\n\t\t//If a dot is on a teleporter swap it to the other teleporter's location\r\n\t\tif(dot.x == teleporters[0].x && dot.y == teleporters[0].y)\r\n\t\t{\r\n\t\t\tgameBoard[teleporters[1].y][teleporters[1].x].filled = 2;\r\n\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\tdot.x = teleporters[1].x;\r\n\t\t\tdot.y = teleporters[1].y;\r\n\t\t\tdot.sprite.place(teleporters[1].x, teleporters[1].y);\r\n\t\t}\r\n\t\telse if(dot.x == teleporters[1].x && dot.y == teleporters[1].y)\r\n\t\t{\r\n\t\t\tgameBoard[teleporters[0].y][teleporters[0].x].filled = 2;\r\n\t\t\tgameBoard[dot.y][dot.x].filled = 1;\r\n\t\t\tdot.x = teleporters[0].x;\r\n\t\t\tdot.y = teleporters[0].y;\r\n\t\t\tdot.sprite.place(teleporters[0].x, teleporters[0].y);\r\n\t\t}\r\n\t}\r\n}\r\n  //# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy9tYWluLmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4vanMvbWFpbi5qcz9lM2IxIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7Y3JlYXRlQ2lyY2xlU3ByaXRlLGNyZWF0ZVNxdWFyZVNwcml0ZSxjcmVhdGVJbWFnZVNwcml0ZSxjcmVhdGVTb3VuZH0gZnJvbSAnLi9jbGFzc2VzLmpzJztcclxuZXhwb3J0IHtpbml0LHJvd1dpZHRoLGNvbFdpZHRoLHRvcFNwYWNpbmcsbGVmdFNwYWNpbmd9O1xyXG5cclxuY29uc3QgY2FudmFzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImNhbnZhc1wiKTtcclxuY29uc3QgY3R4ID0gY2FudmFzLmdldENvbnRleHQoXCIyZFwiKTtcclxuY29uc3Qgc2NyZWVuV2lkdGggPSBjYW52YXMud2lkdGg7XHJcbmNvbnN0IHNjcmVlbkhlaWdodCA9IGNhbnZhcy5oZWlnaHQ7XHJcbmxldCBnYW1lQm9hcmQ7XHJcbmNvbnN0IHJvd3MgPSA4O1xyXG5jb25zdCByb3dXaWR0aCA9IDc1O1xyXG5jb25zdCBjb2xzID0gODtcclxuY29uc3QgY29sV2lkdGggPSA3NTtcclxubGV0IGRvdHMgPSBbXTtcclxubGV0IGVuZFBvaW50cyA9IFtdO1xyXG5sZXQgdGVsZXBvcnRlcnMgPSBbXTtcclxuXHJcbmxldCB0dXJucyA9IDg7XHJcbmxldCBsZXZlbCA9IDE7XHJcbmxldCBwYXVzZWQgPSB0cnVlO1xyXG4vLyBDYWxjdWxhdGUgdGhlIHRvcCBhbmQgbGVmdCBzcGFjaW5nIHRvIGhhdmUgdGhlIGdhbWUgYm9hcmQgY2VudGVyZWQgaW4gdGhlIGJvdHRvbSBtaWRkbGUgb2YgdGhlIGNhbnZhc1xyXG5jb25zdCB0b3BTcGFjaW5nID0gMDtcclxuY29uc3QgbGVmdFNwYWNpbmcgPSAwO1xyXG5cclxuLy8gU2V0IHVwIG11c2ljICYgc291bmQgZWZmZWN0c1xyXG5sZXQgYmFja2dyb3VuZE11c2ljID0gY3JlYXRlU291bmQoXCJzb3VuZHMvZWxlY3Ryb25pYy1iYXNlLWFuZC1wb3AtZ3VpdGFyLm1wM1wiLCB0cnVlKTsgLy8gU291bmQgZnJvbTogaHR0cHM6Ly9mcmVlc291bmQub3JnL3Blb3BsZS9mcmFua3VtL3NvdW5kcy8yNzMzMDAvXHJcbmxldCBtb3ZlU291bmQgPSBjcmVhdGVTb3VuZChcInNvdW5kcy9ib29wLndhdlwiLCBmYWxzZSk7IC8vIFNvdW5kIGZyb206IGh0dHBzOi8vZnJlZXNvdW5kLm9yZy9wZW9wbGUvZm9yZHBzMy9zb3VuZHMvMTg2NjY5L1xyXG5sZXQgd2luU291bmQgPSBjcmVhdGVTb3VuZChcInNvdW5kcy9saXR0bGUtYm9vcHMtbG9vcC53YXZcIiwgZmFsc2UpOyAvLyBTb3VuZCBmcm9tOiBodHRwczovL2ZyZWVzb3VuZC5vcmcvcGVvcGxlL25ld2FnZXNvdXAvc291bmRzLzM0ODg0OS9cclxubGV0IGxvc2VTb3VuZCA9IGNyZWF0ZVNvdW5kKFwic291bmRzL3NhZC10cm9tYm9uZS53YXZcIiwgZmFsc2UpOyAvLyBTb3VuZCBmcm9tOiBodHRwczovL2ZyZWVzb3VuZC5vcmcvcGVvcGxlL1RpbWJyZS9zb3VuZHMvNzM3NTAvXHJcblxyXG5mdW5jdGlvbiBpbml0KCl7XHJcblx0aWYobG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJzaGlmdC1sZXZlbFwiKSA9PSBudWxsKXtcclxuXHRcdGxvY2FsU3RvcmFnZS5zZXRJdGVtKFwic2hpZnQtbGV2ZWxcIiwgMSk7XHJcblx0fWVsc2V7XHJcblx0XHRsZXZlbCA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwic2hpZnQtbGV2ZWxcIik7XHJcblx0XHRjb25zb2xlLmxvZyhsZXZlbCk7XHJcblx0fVxyXG4gICAgLy8gU2V0IHVwIHRoZSBzdGFydCBidXR0b24gdG8gc3RhcnQgdGhlIGdhbWVcclxuICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjc3RhcnRCdXR0b25cIikub25jbGljayA9IHN0YXJ0R2FtZTtcclxuICAgIFxyXG4gICAgLy8gU2V0IHVwIGtleSB0cmFja2luZ1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5dXAnLCBrZXlQcmVzc2VkLCBmYWxzZSk7XHJcbiAgICBcclxuICAgIC8vIFN0YXJ0IHBsYXlpbmcgdGhlIGJhY2tncm91bmQgbXVzaWNcclxuICAgIGJhY2tncm91bmRNdXNpYy5wbGF5KCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHN0YXJ0R2FtZSgpe1xyXG4gICAgLy8gSGlkZSB0aGUgTWFpbiBNZW51XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjbWFpbk1lbnUnKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcblxyXG4gICAgLy8gSW5pdGlhbGl6ZSBlbXB0eSAyRCBhcnJheSBvZiB0aGUgc3BlY2lmaWVkIHNpemVcclxuICAgIGdhbWVCb2FyZCA9IGNyZWF0ZUFycmF5KHJvd3MsIGNvbHMpO1xyXG5cclxuICAgIC8vIFN0YXJ0IGxvYWRpbmcgdGhlIGxldmVsIGZyb20gYW4gZXh0ZXJuYWwgZmlsZSBhbmQgY2FsbCB0aGUgbGV2ZWxMb2FkZWQgZnVuY3Rpb24gd2hlbiBjb21wbGV0ZVxyXG4gICAgcmVhZFRleHRGaWxlKFwibGV2ZWxzL2xldmVsLVwiK2xldmVsK1wiLnR4dFwiLCBsZXZlbExvYWRlZCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHJlc3RhcnRHYW1lKCl7XHJcbiAgICAvLyBIaWRlIHRoZSB3aW4vbG9zZSBzY3JlZW5zXHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2xvc3NTY3JlZW4nKS5zdHlsZS5kaXNwbGF5ID0gXCJub25lXCI7XHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgXHJcbiAgICAvLyBMb2FkIHVwIHRoZSBsZXZlbFxyXG5cdGdhbWVCb2FyZCA9IGNyZWF0ZUFycmF5KHJvd3MsIGNvbHMpO1xyXG5cdGRvdHMgPSBbXTtcclxuXHRlbmRQb2ludHMgPSBbXTtcclxuXHR0ZWxlcG9ydGVycyA9IFtdO1xyXG5cdHJlYWRUZXh0RmlsZShcImxldmVscy9sZXZlbC1cIitsZXZlbCtcIi50eHRcIiwgbGV2ZWxMb2FkZWQpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBsZXZlbExvYWRlZChsZXZlbEd1aWRlKVxyXG57XHJcbiAgICAvLyBSZW1vdmUgYWxsIHdoaXRlc3BhY2UgZnJvbSB0aGUgbG9hZGVkIHRleHRcclxuICAgIGxldmVsR3VpZGUgPSBsZXZlbEd1aWRlLnJlcGxhY2UoL1xccysvZywgJycpOyBcclxuICAgIFxyXG4gICAgLy8gUG9wdWxhdGUgdGhlIGdhbWUgYm9hcmQgdXNpbmcgdGhlIHRleHQgZmlsZSdzIGNvbnRlbnRzXHJcbiAgICBpbml0aWFsaXplTGV2ZWwobGV2ZWxHdWlkZSk7XHJcblxyXG4gICAgLy8gRGlzcGxheSB0aGUgSW5zdHJ1Y3Rpb25zXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zdHJ1Y3Rpb25zJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxuXHRcclxuICAgIC8vIFN0YXJ0IHVwZGF0aW5nIHRoZSBnYW1lIGJvYXJkXHJcblx0cGF1c2VkID0gZmFsc2U7XHJcblx0dXBkYXRlKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIHVwZGF0ZSgpe1xyXG5cdC8vIFNjaGVkdWxlIGEgY2FsbCB0byB1cGRhdGUoKSBpbiAxLzYwdGggb2YgYSBzZWNvbmRcclxuXHRpZihwYXVzZWQpIHJldHVybjtcclxuXHRyZXF1ZXN0QW5pbWF0aW9uRnJhbWUodXBkYXRlKTtcclxuXHRcclxuICAgIC8vIENsZWFyIHRoZSBiYWNrZ3JvdW5kXHJcbiAgICBjdHguc2F2ZSgpO1xyXG4gICAgY3R4LmZpbGxTdHlsZSA9IFwiI0ZGRkZGRlwiO1xyXG5cdGN0eC5maWxsUmVjdCgwLDAsc2NyZWVuV2lkdGgsc2NyZWVuSGVpZ2h0KTtcclxuICAgIGN0eC5yZXN0b3JlKCk7XHJcblxyXG4gICAgLy8gRHJhdyBhIHNxdWFyZSBhcm91bmQgdGhlIGdhbWUgYm9hcmRcclxuICAgIGN0eC5zYXZlKCk7XHJcbiAgICBjdHguc3Ryb2tlU3R5bGUgPSBcIiMwMDAwMDBcIjtcclxuICAgIGN0eC5zdHJva2VSZWN0KHRvcFNwYWNpbmcsIGxlZnRTcGFjaW5nLCByb3dzICogcm93V2lkdGgsIGNvbHMgKiBjb2xXaWR0aCk7XHJcbiAgICBjdHgucmVzdG9yZSgpO1xyXG5cclxuICAgIC8vIExvb3AgdGhyb3VnaCB0aGUgZ2FtZSBib2FyZCBzZWN0aW9ucyBhbmQgZHJhdyB0aGVtXHJcbiAgICBmb3IgKGxldCBpID0gMDsgaSA8IHJvd3M7IGkrKylcclxuICAgIHtcclxuICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGNvbHM7IGorKylcclxuICAgICAgICB7XHJcbiAgICAgICAgICAgIC8vIElmIHRoZSBnYW1lIGJvYXJkIHRpbGUgZXhpc3RzIGRyYXcgaXRcclxuICAgICAgICAgICAgaWYoZ2FtZUJvYXJkW2ldW2pdLnNwcml0ZSAhPSBudWxsKVxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBnYW1lQm9hcmRbaV1bal0uc3ByaXRlLmRyYXcoY3R4KTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuICAgIH1cclxuXHJcbiAgICAvLyBMb29wIHRocm91Z2ggdGhlIGRvdHMgYW5kIGVuZCBwb2ludHMgYW5kIGRyYXcgdGhlbVxyXG5cdGVuZFBvaW50cy5mb3JFYWNoKGZ1bmN0aW9uKGVuZFBvaW50KSB7XHJcbiAgICAgICAgZW5kUG9pbnQuc3ByaXRlLmRyYXcoY3R4KTtcclxuICAgIH0pO1xyXG5cdFxyXG5cdHRlbGVwb3J0ZXJzLmZvckVhY2goZnVuY3Rpb24odGVsKSB7XHJcbiAgICAgICAgdGVsLnNwcml0ZS5kcmF3KGN0eCk7XHJcbiAgICB9KTtcclxuXHRcclxuICAgIGRvdHMuZm9yRWFjaChmdW5jdGlvbihkb3QpIHtcclxuICAgICAgICBkb3Quc3ByaXRlLmRyYXcoY3R4KTtcclxuICAgIH0pO1xyXG5cclxuXHRcclxuICAgIC8vIFdyaXRlIHRoZSB0dXJucyBsZWZ0IG9udG8gdGhlIHNjcmVlblxyXG5cdGN0eC5mb250ID0gXCJib2xkIDMwcHggUm9ib3RvXCI7XHJcbiAgICBjdHguZmlsbFRleHQoXCJUdXJucyBsZWZ0OiBcIiArIHR1cm5zLCA2MTUsIDUwLCAxODUpO1xyXG59XHJcblxyXG5mdW5jdGlvbiBpbml0aWFsaXplTGV2ZWwobGV2ZWxHdWlkZSlcclxue1xyXG4gICAgLy8gUG9wdWxhdGUgdGhlIGdhbWUgYm9hcmQgdXNpbmcgdGhlIGxldmVsIGd1aWRlIHN0cmluZ1xyXG4gICAgbGV0IGxvY2F0aW9uID0gMDtcclxuICAgIGZvciAobGV0IGogPSAwOyBqIDwgY29sczsgaisrKVxyXG4gICAge1xyXG4gICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgcm93czsgaSsrKVxyXG4gICAgICAgIHtcclxuICAgICAgICAgICAgaWYgKGxldmVsR3VpZGUuY2hhckF0KGxvY2F0aW9uKSA9PSAwKSAvLyBFbXB0eSBTcGFjZSBcclxuICAgICAgICAgICAge1xyXG4gICAgICAgICAgICAgICAgLy8gTm8gcGllY2UgdG8gYWRkIHRvIHRoZSBnYW1lIGJvYXJkXHJcbiAgICAgICAgICAgICAgICAvL2dhbWVCb2FyZFtqXVtpXSA9IGNyZWF0ZVNxdWFyZVNwcml0ZSgoaSAqIGNvbFdpZHRoKSArIGxlZnRTcGFjaW5nLCAoaiAqIHJvd1dpZHRoKSArIHRvcFNwYWNpbmcsIFwiR3JheVwiLCBjb2xXaWR0aCwgcm93V2lkdGgpO1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtqXVtpXSA9IHtzcHJpdGU6bnVsbCwgZmlsbGVkOjB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobGV2ZWxHdWlkZS5jaGFyQXQobG9jYXRpb24pID09IDEpIC8vIEVtcHR5IFRpbGUgXHJcbiAgICAgICAgICAgIHtcclxuICAgICAgICAgICAgICAgIGdhbWVCb2FyZFtqXVtpXSA9IHtzcHJpdGU6Y3JlYXRlU3F1YXJlU3ByaXRlKChpICogY29sV2lkdGgpICsgbGVmdFNwYWNpbmcsIChqICogcm93V2lkdGgpICsgdG9wU3BhY2luZywgXCJCbGFja1wiLCBjb2xXaWR0aCwgcm93V2lkdGgpLCBmaWxsZWQ6IDF9O1xyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIGVsc2UgaWYgKGxldmVsR3VpZGUuY2hhckF0KGxvY2F0aW9uKSA9PSAyKSAvLyBUaWxlIHdpdGggYmFsbFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBnYW1lQm9hcmRbal1baV0gPSB7c3ByaXRlOmNyZWF0ZVNxdWFyZVNwcml0ZSgoaSAqIGNvbFdpZHRoKSArIGxlZnRTcGFjaW5nLCAoaiAqIHJvd1dpZHRoKSArIHRvcFNwYWNpbmcsIFwiQmxhY2tcIiwgY29sV2lkdGgsIHJvd1dpZHRoKSwgZmlsbGVkOiAyfTtcclxuICAgICAgICAgICAgICAgIGRvdHMucHVzaCh7c3ByaXRlOmNyZWF0ZUNpcmNsZVNwcml0ZShpLCBqLCBcIkdyZWVuXCIsIGNvbFdpZHRoIC8gMi41KSwgeDogaSwgeTogaiwgbm9ybWFsOiB0cnVlfSk7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgZWxzZSBpZiAobGV2ZWxHdWlkZS5jaGFyQXQobG9jYXRpb24pID09IDMpIC8vIFRpbGUgd2l0aCBlbmQgZ29hbFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBnYW1lQm9hcmRbal1baV0gPSB7c3ByaXRlOmNyZWF0ZVNxdWFyZVNwcml0ZSgoaSAqIGNvbFdpZHRoKSArIGxlZnRTcGFjaW5nLCAoaiAqIHJvd1dpZHRoKSArIHRvcFNwYWNpbmcsIFwiQmxhY2tcIiwgY29sV2lkdGgsIHJvd1dpZHRoKSwgZmlsbGVkOiAzfTtcclxuICAgICAgICAgICAgICAgIGVuZFBvaW50cy5wdXNoKHtzcHJpdGU6Y3JlYXRlQ2lyY2xlU3ByaXRlKGksIGosIFwiUHVycGxlXCIsIGNvbFdpZHRoIC8gMi41KSwgeDogaSwgeTogan0pO1xyXG4gICAgICAgICAgICB9XHJcblx0XHRcdGVsc2UgaWYgKGxldmVsR3VpZGUuY2hhckF0KGxvY2F0aW9uKSA9PSBcIlJcIikgLy8gVGlsZSB3aXRoIHJldmVyc2UgYmFsbFxyXG4gICAgICAgICAgICB7XHJcbiAgICAgICAgICAgICAgICBnYW1lQm9hcmRbal1baV0gPSB7c3ByaXRlOmNyZWF0ZVNxdWFyZVNwcml0ZSgoaSAqIGNvbFdpZHRoKSArIGxlZnRTcGFjaW5nLCAoaiAqIHJvd1dpZHRoKSArIHRvcFNwYWNpbmcsIFwiQmxhY2tcIiwgY29sV2lkdGgsIHJvd1dpZHRoKSwgZmlsbGVkOiAyfTtcclxuICAgICAgICAgICAgICAgIGRvdHMucHVzaCh7c3ByaXRlOmNyZWF0ZUNpcmNsZVNwcml0ZShpLCBqLCBcIlJlZFwiLCBjb2xXaWR0aCAvIDIuNSksIHg6IGksIHk6IGosIG5vcm1hbDogZmFsc2V9KTtcclxuICAgICAgICAgICAgfWVsc2UgaWYobGV2ZWxHdWlkZS5jaGFyQXQobG9jYXRpb24pID09IFwiVFwiICkgLy9UaWxlIHdpdGggdGVsZXBvcnRlclxyXG5cdFx0XHR7XHJcblx0XHRcdFx0Z2FtZUJvYXJkW2pdW2ldID0ge3Nwcml0ZTpjcmVhdGVTcXVhcmVTcHJpdGUoKGkgKiBjb2xXaWR0aCkgKyBsZWZ0U3BhY2luZywgKGogKiByb3dXaWR0aCkgKyB0b3BTcGFjaW5nLCBcIkJsYWNrXCIsIGNvbFdpZHRoLCByb3dXaWR0aCksIGZpbGxlZDogMX07XHJcblx0XHRcdFx0dGVsZXBvcnRlcnMucHVzaCh7c3ByaXRlOiBjcmVhdGVJbWFnZVNwcml0ZSgoaSAqIGNvbFdpZHRoKSArIGxlZnRTcGFjaW5nICs1LCAoaiAqIHJvd1dpZHRoKSArIHRvcFNwYWNpbmcgKzUsIDY1LCA2NSwgXCJpbWFnZXMvcG9ydGFsLnBuZ1wiKSx4OmksIHk6an0pOyAvLyBJbWFnZSBvYnRhaW5lZCBhbmQgZWRpdGVkIGZyb20gaHR0cHM6Ly93d3cuZGV2aWFudGFydC5jb20vdGV4ZWxnaXJsLXN0b2NrL2FydC9Qb3J0YWwtMS04Mzc2NDgxMlxyXG5cdFx0XHR9XHJcbiAgICAgICAgICAgIGxvY2F0aW9uKys7XHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG5cdGxldCB0dXJuTnVtID0gXCJcIjtcclxuXHQvL1JlYWQgdGhlIHR1cm4gbnVtYmVyIGZyb20gdGhlIGxldmVsIGZpbGVcclxuXHQvL1JlYWQgZWFjaCBjaGFyYWN0ZXIgdW50aWwgbm8gY2hhcmFjdGVyIGlzIGZvdW5kXHJcblx0d2hpbGUobGV2ZWxHdWlkZS5jaGFyQXQobG9jYXRpb24pIT0gXCJcIil7XHJcblx0XHR0dXJuTnVtICs9IFwiXCIgKyBsZXZlbEd1aWRlLmNoYXJBdChsb2NhdGlvbikgKyBcIlwiO1xyXG5cdFx0bG9jYXRpb24rKztcclxuXHR9XHJcblx0dHVybnMgPSBwYXJzZUludCh0dXJuTnVtLDEwKTtcclxufVxyXG5cclxuLy8gQXJyYXkgaW5pdGlhbGl6YXRpb24gY29kZSBTT1VSQ0VEIGZyb20gaHR0cHM6Ly9zdGFja292ZXJmbG93LmNvbS9hLzk2NjkzOFxyXG5mdW5jdGlvbiBjcmVhdGVBcnJheShsZW5ndGgpIHtcclxuICAgIHZhciBhcnIgPSBuZXcgQXJyYXkobGVuZ3RoIHx8IDApLFxyXG4gICAgICAgIGkgPSBsZW5ndGg7XHJcblxyXG4gICAgaWYgKGFyZ3VtZW50cy5sZW5ndGggPiAxKSB7XHJcbiAgICAgICAgdmFyIGFyZ3MgPSBBcnJheS5wcm90b3R5cGUuc2xpY2UuY2FsbChhcmd1bWVudHMsIDEpO1xyXG4gICAgICAgIHdoaWxlKGktLSkgYXJyW2xlbmd0aC0xIC0gaV0gPSBjcmVhdGVBcnJheS5hcHBseSh0aGlzLCBhcmdzKTtcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gYXJyO1xyXG59XHJcblxyXG4vLyBUZXh0IGZpbGUgcmVhZGluZyBjb2RlIE1PRElGSUVEIGZyb20gaHR0cHM6Ly9tZWRpdW0uZnJlZWNvZGVjYW1wLm9yZy9qYXZhc2NyaXB0LWZyb20tY2FsbGJhY2tzLXRvLWFzeW5jLWF3YWl0LTFjYzA5MGRkYWQ5OVxyXG5mdW5jdGlvbiByZWFkVGV4dEZpbGUoZmlsZSwgY2FsbGJhY2spIHtcclxuICAgIGNvbnN0IHJhd0ZpbGUgPSBuZXcgWE1MSHR0cFJlcXVlc3QoKTtcclxuICAgIHJhd0ZpbGUudGltZW91dCA9IDIwMDA7XHJcbiAgICByYXdGaWxlLnJlc3BvbnNlVHlwZSA9ICd0ZXh0JztcclxuICAgIHJhd0ZpbGUub25yZWFkeXN0YXRlY2hhbmdlID0gZnVuY3Rpb24oZSkge1xyXG4gICAgICAgIGlmIChyYXdGaWxlLnJlYWR5U3RhdGUgPT09IDQpIHtcclxuICAgICAgICAgICAgaWYgKHJhd0ZpbGUuc3RhdHVzID09PSAyMDAgfHwgcmF3RmlsZS5zdGF0dXMgPT0gMCkge1xyXG4gICAgICAgICAgICAgICAgY2FsbGJhY2socmF3RmlsZS5yZXNwb25zZVRleHQpXHJcbiAgICAgICAgICAgIH0gXHJcbiAgICAgICAgfVxyXG4gICAgfVxyXG4gICAgcmF3RmlsZS5vbnRpbWVvdXQgPSBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ1RpbWVvdXQgb24gbG9hZGluZyB0ZXh0IGZpbGU6ICcgKyBmaWxlKVxyXG4gICAgfVxyXG4gICAgcmF3RmlsZS5vcGVuKCdHRVQnLCBmaWxlLCB0cnVlKVxyXG4gICAgcmF3RmlsZS5zZW5kKCk7XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGtleVByZXNzZWQoZXZlbnQpIHtcclxuXHRsZXQgbW92ZSA9IDA7XHJcblx0aWYocGF1c2VkKSByZXR1cm47XHJcblx0Ly9MZWZ0XHJcblx0aWYoZXZlbnQua2V5Q29kZSA9PSAzNykge1xyXG5cdFx0ZG90cy5zb3J0KChhLGIpID0+IGEueCAtIGIueCk7XHJcbiAgICAgICAgZm9yKGxldCBkb3Qgb2YgZG90cyl7XHJcblx0XHRcdC8vU3RhbmRhcmQgZG90IG1vdmVtZW50XHJcblx0XHRcdGlmKGRvdC5ub3JtYWwgJiYgZG90LnggLSAxID49MCAmJiBnYW1lQm9hcmRbZG90LnldW2RvdC54LTFdLmZpbGxlZCAhPSAwICYmIGdhbWVCb2FyZFtkb3QueV1bZG90LngtMV0uZmlsbGVkICE9IDIpe1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtkb3QueV1bZG90LngtMV0uZmlsbGVkID0gMjtcclxuXHRcdFx0XHRnYW1lQm9hcmRbZG90LnldW2RvdC54XS5maWxsZWQgPSAxO1xyXG5cdFx0XHRcdGRvdC5zcHJpdGUubW92ZSgtMSwwKTtcclxuXHRcdFx0XHRkb3QueC0tO1xyXG5cdFx0XHRcdG1vdmUrKztcclxuXHRcdFx0Ly9SZXZlcnNlIGRvdCBtb3ZlbWVudFxyXG5cdFx0XHR9ZWxzZSBpZiggIWRvdC5ub3JtYWwgJiYgZG90LnggKyAxIDwgOCAmJiBnYW1lQm9hcmRbZG90LnldW2RvdC54KzFdLmZpbGxlZCAhPSAwICYmIGdhbWVCb2FyZFtkb3QueV1bZG90LngrMV0uZmlsbGVkICE9IDIpe1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtkb3QueV1bZG90LngrMV0uZmlsbGVkID0gMjtcclxuXHRcdFx0XHRnYW1lQm9hcmRbZG90LnldW2RvdC54XS5maWxsZWQgPSAxO1xyXG5cdFx0XHRcdGRvdC5zcHJpdGUubW92ZSgxLDApO1xyXG5cdFx0XHRcdGRvdC54Kys7XHJcblx0XHRcdFx0bW92ZSsrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0Ly9VcFx0XHRcclxuICAgIH1lbHNlIGlmKGV2ZW50LmtleUNvZGUgPT0gMzgpIHtcclxuXHRcdGRvdHMuc29ydCgoYSxiKSA9PiBhLnkgLSBiLnkpO1xyXG4gICAgXHRmb3IobGV0IGRvdCBvZiBkb3RzKXtcclxuXHRcdFx0aWYoZG90Lm5vcm1hbCAmJiBkb3QueSAtIDEgPj0wICYmIGdhbWVCb2FyZFtkb3QueS0xXVtkb3QueF0uZmlsbGVkICE9IDAgJiYgZ2FtZUJvYXJkW2RvdC55LTFdW2RvdC54XS5maWxsZWQgIT0gMil7XHJcblx0XHRcdFx0Z2FtZUJvYXJkW2RvdC55LTFdW2RvdC54XS5maWxsZWQgPSAyO1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtkb3QueV1bZG90LnhdLmZpbGxlZCA9IDE7XHJcblx0XHRcdFx0ZG90LnNwcml0ZS5tb3ZlKDAsLTEpO1xyXG5cdFx0XHRcdGRvdC55LS07XHJcblx0XHRcdFx0bW92ZSsrO1xyXG5cdFx0XHR9ZWxzZSBpZighZG90Lm5vcm1hbCAmJiBkb3QueSArIDEgPCA4JiYgZ2FtZUJvYXJkW2RvdC55KzFdW2RvdC54XS5maWxsZWQgIT0gMCYmIGdhbWVCb2FyZFtkb3QueSsxXVtkb3QueF0uZmlsbGVkICE9IDIpe1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtkb3QueSsxXVtkb3QueF0uZmlsbGVkID0gMjtcclxuXHRcdFx0XHRnYW1lQm9hcmRbZG90LnldW2RvdC54XS5maWxsZWQgPSAxO1xyXG5cdFx0XHRcdGRvdC5zcHJpdGUubW92ZSgwLDEpO1xyXG5cdFx0XHRcdGRvdC55Kys7XHJcblx0XHRcdFx0bW92ZSsrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0Ly9SaWdodFxyXG4gICAgfWVsc2UgaWYoZXZlbnQua2V5Q29kZSA9PSAzOSkge1xyXG5cdFx0ZG90cy5zb3J0KChhLGIpID0+IGIueCAtIGEueCk7XHJcbiAgICAgICAgZm9yKGxldCBkb3Qgb2YgZG90cyl7XHJcblx0XHRcdGlmKGRvdC5ub3JtYWwgJiYgZG90LnggKyAxIDwgOCAmJiBnYW1lQm9hcmRbZG90LnldW2RvdC54KzFdLmZpbGxlZCAhPSAwICYmIGdhbWVCb2FyZFtkb3QueV1bZG90LngrMV0uZmlsbGVkICE9IDIpe1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtkb3QueV1bZG90LngrMV0uZmlsbGVkID0gMjtcclxuXHRcdFx0XHRnYW1lQm9hcmRbZG90LnldW2RvdC54XS5maWxsZWQgPSAxO1xyXG5cdFx0XHRcdGRvdC5zcHJpdGUubW92ZSgxLDApO1xyXG5cdFx0XHRcdGRvdC54Kys7XHJcblx0XHRcdFx0bW92ZSsrO1xyXG5cdFx0XHR9ZWxzZSBpZighZG90Lm5vcm1hbCAmJiBkb3QueCAtIDEgPj0wICYmIGdhbWVCb2FyZFtkb3QueV1bZG90LngtMV0uZmlsbGVkICE9IDAgJiYgZ2FtZUJvYXJkW2RvdC55XVtkb3QueC0xXS5maWxsZWQgIT0gMil7XHJcblx0XHRcdFx0Z2FtZUJvYXJkW2RvdC55XVtkb3QueC0xXS5maWxsZWQgPSAyO1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtkb3QueV1bZG90LnhdLmZpbGxlZCA9IDE7XHJcblx0XHRcdFx0ZG90LnNwcml0ZS5tb3ZlKC0xLDApO1xyXG5cdFx0XHRcdGRvdC54LS07XHJcblx0XHRcdFx0bW92ZSsrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0Ly9Eb3duXHRcclxuICAgIH1lbHNlIGlmKGV2ZW50LmtleUNvZGUgPT0gNDApIHtcclxuXHRcdGRvdHMuc29ydCgoYSxiKSA9PiBiLnkgLSBhLnkpO1xyXG4gICAgXHRmb3IobGV0IGRvdCBvZiBkb3RzKXtcclxuXHRcdFx0aWYoZG90Lm5vcm1hbCAmJiBkb3QueSArIDEgPCA4JiYgZ2FtZUJvYXJkW2RvdC55KzFdW2RvdC54XS5maWxsZWQgIT0gMCYmIGdhbWVCb2FyZFtkb3QueSsxXVtkb3QueF0uZmlsbGVkICE9IDIpe1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtkb3QueSsxXVtkb3QueF0uZmlsbGVkID0gMjtcclxuXHRcdFx0XHRnYW1lQm9hcmRbZG90LnldW2RvdC54XS5maWxsZWQgPSAxO1xyXG5cdFx0XHRcdGRvdC5zcHJpdGUubW92ZSgwLDEpO1xyXG5cdFx0XHRcdGRvdC55Kys7XHJcblx0XHRcdFx0bW92ZSsrO1xyXG5cdFx0XHR9ZWxzZSBpZighZG90Lm5vcm1hbCAmJiBkb3QueSAtIDEgPj0wICYmIGdhbWVCb2FyZFtkb3QueS0xXVtkb3QueF0uZmlsbGVkICE9IDAgJiYgZ2FtZUJvYXJkW2RvdC55LTFdW2RvdC54XS5maWxsZWQgIT0gMil7XHJcblx0XHRcdFx0Z2FtZUJvYXJkW2RvdC55LTFdW2RvdC54XS5maWxsZWQgPSAyO1xyXG5cdFx0XHRcdGdhbWVCb2FyZFtkb3QueV1bZG90LnhdLmZpbGxlZCA9IDE7XHJcblx0XHRcdFx0ZG90LnNwcml0ZS5tb3ZlKDAsLTEpO1xyXG5cdFx0XHRcdGRvdC55LS07XHJcblx0XHRcdFx0bW92ZSsrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHRcclxuICAgIH1cclxuICAgIFxyXG4gICAgLy8gSWYgdGhlIHBsYXllciBtb3ZlZCB0aGlzIHR1cm5cclxuXHRpZihtb3ZlID4gMCl7XHJcbiAgICAgICAgLy8gUGxheSB0aGUgbW92ZSBtdXNpY1xyXG4gICAgICAgIG1vdmVTb3VuZC5wbGF5KCk7XHJcblxyXG4gICAgICAgIC8vIERlY3JlbWVudCB0aGUgdHVybiB0cmFja2VyXHJcbiAgICAgICAgdHVybnMtLTtcclxuICAgICAgICBcclxuICAgICAgICAvLyBSZXNldCB0aGUgbW92ZSBjb3VudGVyXHJcblx0XHRtb3ZlID0gMDtcclxuXHRcdFxyXG5cdFx0Ly9DaGVjayBpZiB0ZWxlcG9ydGVycyBleGlzdCBpbiB0aGUgY3VycmVudCBsZXZlbFxyXG5cdFx0aWYodGVsZXBvcnRlcnMubGVuZ3RoID4gMCl7XHJcblx0XHRcdHRlbGVwb3J0KCk7XHJcblx0XHR9XHJcblx0XHRcdFx0XHJcbiAgICB9XHJcbiAgICBcclxuICAgIC8vIENoZWNrIHdpbi9sb3NzIGNvbmRpdGlvbnNcclxuXHRjaGVja1dpbigpO1xyXG5cdGlmKHR1cm5zIDw9IDAgJiYgIXBhdXNlZCl7XHJcblx0XHRwYXVzZWQgPSB0cnVlO1xyXG5cdFx0ZGlzcGxheUxvc3MoKTtcclxuXHR9XHJcblx0XHJcbn1cclxuXHJcbmZ1bmN0aW9uIGNoZWNrV2luKCl7XHJcblx0bGV0IGxlbmd0aCA9IDA7XHJcblx0Zm9yKGxldCBkb3Qgb2YgZG90cyl7XHJcblx0XHRmb3IobGV0IGVuZCBvZiBlbmRQb2ludHMpe1xyXG5cdFx0XHRpZihkb3QueCA9PSBlbmQueCAmJiBkb3QueSA9PSBlbmQueSl7XHJcblx0XHRcdFx0bGVuZ3RoKys7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHR9XHJcblxyXG5cdGlmKGxlbmd0aCA9PSBlbmRQb2ludHMubGVuZ3RoKXtcclxuXHRcdGRpc3BsYXlXaW4oKTtcclxuXHRcdHBhdXNlZCA9IHRydWU7XHJcblx0fVxyXG59XHJcblxyXG5mdW5jdGlvbiBkaXNwbGF5V2luKCl7XHJcbiAgICAvLyBBZHZhbmNlIHRoZSBsZXZlbFxyXG4gICAgbGV2ZWwrKztcclxuICAgIGlmKGxldmVsID4gMTApe1xyXG5cdFx0bGV2ZWwgPSAxMDtcclxuXHR9XHJcblx0bG9jYWxTdG9yYWdlLnNldEl0ZW0oXCJzaGlmdC1sZXZlbFwiLCBsZXZlbCk7XHJcbiAgICAvLyBQbGF5IHRoZSB3aW4gbXVzaWNcclxuICAgIHdpblNvdW5kLnBsYXkoKTtcclxuICAgIFxyXG4gICAgLy8gSGlkZSB0aGUgSW5zdHJ1Y3Rpb25zXHJcbiAgICBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjaW5zdHJ1Y3Rpb25zJykuc3R5bGUuZGlzcGxheSA9IFwibm9uZVwiO1xyXG4gICAgXHJcbiAgICAvLyBEaXNwbGF5IHRoZSB3aW4gc2NyZWVuXHJcblx0ZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNuZXh0QnV0dG9uXCIpLm9uY2xpY2sgPSByZXN0YXJ0R2FtZTtcclxuXHRkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcjd2luU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxufVxyXG5cclxuZnVuY3Rpb24gZGlzcGxheUxvc3MoKXtcclxuICAgIC8vIFBsYXkgdGhlIGxvc2UgbXVzaWNcclxuICAgIGxvc2VTb3VuZC5wbGF5KCk7XHJcblxyXG5cdC8vIEhpZGUgdGhlIEluc3RydWN0aW9uc1xyXG4gICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignI2luc3RydWN0aW9ucycpLnN0eWxlLmRpc3BsYXkgPSBcIm5vbmVcIjtcclxuXHJcbiAgICAvLyBEaXNwbGF5IHRoZSBsb3NzIHNjcmVlblxyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjcmV0cnlCdXR0b25cIikub25jbGljayA9IHJlc3RhcnRHYW1lO1xyXG5cdGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJyNsb3NzU2NyZWVuJykuc3R5bGUuZGlzcGxheSA9IFwiYmxvY2tcIjtcclxufVxyXG5mdW5jdGlvbiB0ZWxlcG9ydCgpe1xyXG5cdC8vR28gdGhyb3VnaCBlYWNoIGRvdCBhbmQgY2hlY2sgaWYgaXQgaXMgb24gZWl0aGVyIHRlbGVwb3J0ZXIgc3BvdFxyXG5cdGZvcihsZXQgZG90IG9mIGRvdHMpe1xyXG5cdFx0Ly9JZiBhIGRvdCBpcyBvbiBhIHRlbGVwb3J0ZXIgc3dhcCBpdCB0byB0aGUgb3RoZXIgdGVsZXBvcnRlcidzIGxvY2F0aW9uXHJcblx0XHRpZihkb3QueCA9PSB0ZWxlcG9ydGVyc1swXS54ICYmIGRvdC55ID09IHRlbGVwb3J0ZXJzWzBdLnkpXHJcblx0XHR7XHJcblx0XHRcdGdhbWVCb2FyZFt0ZWxlcG9ydGVyc1sxXS55XVt0ZWxlcG9ydGVyc1sxXS54XS5maWxsZWQgPSAyO1xyXG5cdFx0XHRnYW1lQm9hcmRbZG90LnldW2RvdC54XS5maWxsZWQgPSAxO1xyXG5cdFx0XHRkb3QueCA9IHRlbGVwb3J0ZXJzWzFdLng7XHJcblx0XHRcdGRvdC55ID0gdGVsZXBvcnRlcnNbMV0ueTtcclxuXHRcdFx0ZG90LnNwcml0ZS5wbGFjZSh0ZWxlcG9ydGVyc1sxXS54LCB0ZWxlcG9ydGVyc1sxXS55KTtcclxuXHRcdH1cclxuXHRcdGVsc2UgaWYoZG90LnggPT0gdGVsZXBvcnRlcnNbMV0ueCAmJiBkb3QueSA9PSB0ZWxlcG9ydGVyc1sxXS55KVxyXG5cdFx0e1xyXG5cdFx0XHRnYW1lQm9hcmRbdGVsZXBvcnRlcnNbMF0ueV1bdGVsZXBvcnRlcnNbMF0ueF0uZmlsbGVkID0gMjtcclxuXHRcdFx0Z2FtZUJvYXJkW2RvdC55XVtkb3QueF0uZmlsbGVkID0gMTtcclxuXHRcdFx0ZG90LnggPSB0ZWxlcG9ydGVyc1swXS54O1xyXG5cdFx0XHRkb3QueSA9IHRlbGVwb3J0ZXJzWzBdLnk7XHJcblx0XHRcdGRvdC5zcHJpdGUucGxhY2UodGVsZXBvcnRlcnNbMF0ueCwgdGVsZXBvcnRlcnNbMF0ueSk7XHJcblx0XHR9XHJcblx0fVxyXG59XHJcbiAgIl0sIm1hcHBpbmdzIjoiQUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQUE7QUFBQTtBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///./js/main.js\n");

/***/ }),

/***/ "./js/utilities.js":
/*!*************************!*\
  !*** ./js/utilities.js ***!
  \*************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n\r\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi9qcy91dGlsaXRpZXMuanMuanMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9qcy91dGlsaXRpZXMuanM/ZDc4ZiJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQge307XHJcbiJdLCJtYXBwaW5ncyI6IkFBQUE7QUFBQTsiLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///./js/utilities.js\n");

/***/ })

/******/ });